"use strict";(self.webpackChunkbutil_admin=self.webpackChunkbutil_admin||[]).push([[5],{3576:function(e,n,t){var a=t(1413),r=t(2791),s=t(4575),i=t(9658),c=t(184),u=r.forwardRef((function(e,n){return(0,c.jsx)(i.Z,(0,a.Z)({elevation:6,ref:n,variant:"filled"},e))}));n.Z=function(e){var n=e.openSnackbar,t=e.success,a=e.message,r=e.setOpenSnackbar,i=function(e,n){"clickaway"!==n&&r(!1)};return(0,c.jsx)(s.Z,{open:n,autoHideDuration:6e3,onClose:i,children:(0,c.jsx)(u,{onClose:i,severity:t?"success":"error",sx:{width:"100%"},children:a})})}},4993:function(e,n,t){t.d(n,{B:function(){return i}});var a=t(5671),r=t(3144),s=function(){function e(n){(0,a.Z)(this,e),this.userObject=void 0,this.userObject=n}return(0,r.Z)(e,[{key:"getUser",value:function(){return this.userObject}}]),e}();function i(e){var n=e.data(),t={userId:e.id,contact:n.contact,firstName:n.firstName,lastName:n.lastName,gender:n.gender};return new s(t)}},348:function(e,n,t){var a=t(885),r=t(2791),s=t(7621),i=t(1889),c=t(7391),u=t(4518),o=t(3466),l=t(3400),d=t(9321),m=t(5022),h=t(3746),f=t(165),x=t(184);n.Z=function(e){var n=e.userData,t=e.onTextChange,Z=e.onSelectChange,p=e.onSubmitForm,g=(0,r.useState)(!1),j=(0,a.Z)(g,2),v=j[0],b=j[1];return(0,x.jsx)(s.Z,{sx:{width:"100%",padding:3},children:(0,x.jsx)("form",{onSubmit:function(e){return p(e)},children:(0,x.jsxs)(i.ZP,{container:!0,spacing:2,children:[(0,x.jsx)(i.ZP,{item:!0,sm:12,md:12,sx:{width:"100%"},children:(0,x.jsx)(c.Z,{fullWidth:!0,required:!0,name:"firstName",label:"First Name",variant:"outlined",value:n.firstName,onChange:function(e){return t(e)}})}),(0,x.jsx)(i.ZP,{item:!0,sm:12,md:12,sx:{width:"100%"},children:(0,x.jsx)(c.Z,{fullWidth:!0,required:!0,name:"lastName",label:"Last Name",variant:"outlined",value:n.lastName,onChange:function(e){return t(e)}})}),(0,x.jsx)(i.ZP,{item:!0,sm:12,md:12,sx:{width:"100%"},children:(0,x.jsxs)(d.Z,{fullWidth:!0,required:!0,name:"gender",label:"Gender",value:n.gender,onChange:function(e){return Z(e)},children:[(0,x.jsx)(m.Z,{value:"Male",children:"Male"}),(0,x.jsx)(m.Z,{value:"Female",children:"Female"})]})}),(0,x.jsx)(i.ZP,{item:!0,sm:12,md:12,sx:{width:"100%"},children:(0,x.jsx)(c.Z,{fullWidth:!0,required:!0,type:"email",name:"email",label:"User Email",variant:"outlined",value:n.email,onChange:function(e){return t(e)}})}),(0,x.jsx)(i.ZP,{item:!0,sm:12,md:12,sx:{width:"100%"},children:(0,x.jsx)(c.Z,{fullWidth:!0,required:!0,inputProps:{maxLength:13,minLength:9},name:"contact",label:"Contact Number",variant:"outlined",value:n.contact,onChange:function(e){return t(e)}})}),(0,x.jsx)(i.ZP,{item:!0,sm:12,md:12,sx:{width:"100%"},children:(0,x.jsx)(c.Z,{fullWidth:!0,required:!0,type:v?"text":"password",name:"password",label:"Password",variant:"outlined",value:n.password,onChange:function(e){return t(e)},InputProps:{endAdornment:(0,x.jsx)(o.Z,{position:"end",children:(0,x.jsx)(l.Z,{"aria-label":"toggle password visibility",edge:"end",onClick:function(e){return b(!v)},children:v?(0,x.jsx)(h.Z,{}):(0,x.jsx)(f.Z,{})})})}})}),(0,x.jsx)(i.ZP,{item:!0,sm:12,md:12,sx:{width:"100%"},children:(0,x.jsx)(u.Z,{type:"submit",variant:"contained",fullWidth:!0,children:"SAVE"})})]})})})}},3005:function(e,n,t){t.r(n);var a=t(4942),r=t(1413),s=t(5861),i=t(885),c=t(7757),u=t.n(c),o=t(2791),l=t(6907),d=t(6445),m=t(890),h=t(3400),f=t(4518),x=t(8530),Z=t(5193),p=t(6871),g=t(348),j=t(3576),v=t(4993),b=t(9062),w=t(376),N=t(4569),C=t.n(N),k=t(9823),S=t(184);n.default=function(){var e=(0,Z.Z)("(min-width:600px)"),n=(0,p.s0)(),t=(0,w.h)(),c=t.database,N=t.currentUser,y=(0,o.useState)({openSnackbar:!1,success:!0,message:""}),P=(0,i.Z)(y,2),U=P[0],W=P[1],q=(0,o.useState)({firstName:"",lastName:"",contact:"",email:"",password:"",gender:"Male"}),F=(0,i.Z)(q,2),I=F[0],O=F[1];function E(e){e.preventDefault();var t=JSON.stringify({email:I.email,name:I.firstName+" "+I.lastName,contact:I.contact,password:I.password});C().post("https://butiladmin.herokuapp.com/api/jsdhfyyrhv7&ggeimcv_$hrjeuifcv/user/update/"+N.uid,t,{headers:{"Content-Type":"application/json"}}).then((function(e){!function(e){var t={firstName:I.firstName,lastName:I.lastName,contact:I.contact,gender:I.gender};(0,b.pl)((0,b.JU)(c,"accounts",e),t).then((function(e){n("/dashboards/users")})).catch((function(e){W((0,r.Z)((0,r.Z)({},U),{},{openSnackbar:!0,success:!1,message:"Failed to save user."}))}))}(e.data.uid)})).catch((function(e){W((0,r.Z)((0,r.Z)({},U),{},{openSnackbar:!0,success:!1,message:"User alredy exist."}))}))}return o.useEffect((function(){function e(){return(e=(0,s.Z)(u().mark((function e(){var t,a,r,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,b.JU)(c,"accounts",N.uid),e.next=3,(0,b.QT)(t);case 3:(a=e.sent).exists()?(r=(0,v.B)(a),s={contact:r.getUser().contact,firstName:r.getUser().firstName,lastName:r.getUser().lastName,gender:r.getUser().gender,userId:r.getUser().userId,email:N.email,password:""},O((function(e){return s}))):n("/404");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[N,c,n]),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(l.q,{children:(0,S.jsx)("title",{children:"Edit Profile"})}),(0,S.jsxs)(d.Z,{maxWidth:"sm",sx:{mb:5},children:[(0,S.jsxs)(x.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:5,marginBottom:3},children:[(0,S.jsx)(m.Z,{variant:"h1",color:"primary",children:"Edit Profile"}),e?(0,S.jsx)(f.Z,{variant:"contained",color:"error",startIcon:(0,S.jsx)(k.Z,{}),onClick:function(e){return n("/dashboards/users")},children:"Cancel"}):(0,S.jsx)(h.Z,{onClick:function(e){return n("/dashboards/users")},color:"error",children:(0,S.jsx)(k.Z,{})})]}),(0,S.jsx)(g.Z,{userData:I,onTextChange:function(e){return function(e){O((0,r.Z)((0,r.Z)({},I),{},(0,a.Z)({},e.target.name,e.target.value)))}(e)},onSelectChange:function(e){return function(e){O((0,r.Z)((0,r.Z)({},I),{},(0,a.Z)({},e.target.name,e.target.value)))}(e)},onSubmitForm:function(e){return E(e)}})]}),(0,S.jsx)(j.Z,{openSnackbar:U.openSnackbar,success:U.success,message:U.message,setOpenSnackbar:function(e){return W((0,r.Z)((0,r.Z)({},U),{},{openSnackbar:e}))}})]})}}}]);
//# sourceMappingURL=5.7fbd207f.chunk.js.map